
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>sasoptpy.components &#8212; sasoptpy 0.1.1 documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/sasoptpy.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/url.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <script src="../../../../_static/js/version.js"></script>
    <link rel="search" title="Search" href="../../search.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">sasoptpy 0.1.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sasoptpy.components</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># encoding: utf-8</span>
<span class="c1">#</span>
<span class="c1"># Copyright SAS Institute</span>
<span class="c1">#</span>
<span class="c1">#  Licensed under the Apache License, Version 2.0 (the License);</span>
<span class="c1">#  you may not use this file except in compliance with the License.</span>
<span class="c1">#  You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1">#  Unless required by applicable law or agreed to in writing, software</span>
<span class="c1">#  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1">#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1">#  See the License for the specific language governing permissions and</span>
<span class="c1">#  limitations under the License.</span>
<span class="c1">#</span>

<span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">product</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">copysign</span><span class="p">,</span> <span class="n">inf</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="k">import</span> <span class="n">GeneratorType</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">sasoptpy.utils</span>


<div class="viewcode-block" id="Expression"><a class="viewcode-back" href="../../generated/sasoptpy.Expression.html#sasoptpy.Expression">[docs]</a><span class="k">class</span> <span class="nc">Expression</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Creates a linear expression to represent model components</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    exp : :class:`Expression` object, optional</span>
<span class="sd">        An existing expression where arguments are being passed</span>
<span class="sd">    name : string, optional</span>
<span class="sd">        A local name for the expression</span>
<span class="sd">    temp : boolean, optional</span>
<span class="sd">        A boolean shows whether expression is temporary or permanent</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; x = so.Variable(name=&#39;x&#39;)</span>
<span class="sd">    &gt;&gt;&gt; y = so.VariableGroup(3, name=&#39;y&#39;)</span>
<span class="sd">    &gt;&gt;&gt; e = so.Expression(exp=x + 3 * y[0] - 5 * y[1], name=&#39;exp1&#39;)</span>
<span class="sd">    &gt;&gt;&gt; print(e)</span>
<span class="sd">     -  5.0 * y[1]  +  3.0 * y[0]  +  x</span>
<span class="sd">    &gt;&gt;&gt; print(repr(e))</span>
<span class="sd">    sasoptpy.Expression(exp =  -  5.0 * y[1]  +  3.0 * y[0]  +  x ,</span>
<span class="sd">                        name=&#39;exp1&#39;)</span>

<span class="sd">    &gt;&gt;&gt; sales = so.Variable(name=&#39;sales&#39;)</span>
<span class="sd">    &gt;&gt;&gt; material = so.Variable(name=&#39;material&#39;)</span>
<span class="sd">    &gt;&gt;&gt; profit = 5 * sales - 3 * material</span>
<span class="sd">    &gt;&gt;&gt; print(profit)</span>
<span class="sd">     5.0 * sales  -  3.0 * material</span>
<span class="sd">    &gt;&gt;&gt; print(repr(profit))</span>
<span class="sd">    sasoptpy.Expression(exp =  5.0 * sales  -  3.0 * material , name=None)</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * Two other classes (:class:`Variable` and :class:`Constraint`) are</span>
<span class="sd">      subclasses of this class.</span>
<span class="sd">    * Expressions are created automatically after linear math operations</span>
<span class="sd">      with variables.</span>
<span class="sd">    * An expression object can be called when defining constraints and other</span>
<span class="sd">      expressions.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">check_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">)</span>
            <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">exp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CONST&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exp</span><span class="p">,</span> <span class="n">Expression</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">mylc</span> <span class="ow">in</span> <span class="n">exp</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">exp</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CONST&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">exp</span><span class="p">}}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING: An invalid type is passed to create an &#39;</span> <span class="o">+</span>
                      <span class="s1">&#39;Expression: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">exp</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_temp</span> <span class="o">=</span> <span class="n">temp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="Expression.copy"><a class="viewcode-back" href="../../generated/sasoptpy.Expression.copy.html#sasoptpy.Expression.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns a copy of the :class:`Expression` object</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : string, optional</span>
<span class="sd">            Name for the copy</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Expression` object</span>
<span class="sd">            Copy of the object</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; e = so.Expression(7 * x - y[0], name=&#39;e&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(e))</span>
<span class="sd">        sasoptpy.Expression(exp =  -  y[0]  +  7.0 * x , name=&#39;e&#39;)</span>
<span class="sd">        &gt;&gt;&gt; f = e.copy(name=&#39;f&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(f))</span>
<span class="sd">        sasoptpy.Expression(exp =  -  y[0]  +  7.0 * x , name=&#39;f&#39;)</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">Expression</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">mylc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
            <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Expression.get_value"><a class="viewcode-back" href="../../generated/sasoptpy.Expression.get_value.html#sasoptpy.Expression.get_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the value of the expression after variable values are changed</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            Value of the expression</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; profit = so.Expression(5 * sales - 3 * material)</span>
<span class="sd">        &gt;&gt;&gt; m.solve()</span>
<span class="sd">        &gt;&gt;&gt; print(profit.get_value())</span>
<span class="sd">        41.0</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">v</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">mylc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">][</span><span class="s1">&#39;ref&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">*</span> \
                    <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">][</span><span class="s1">&#39;ref&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">_value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">v</span></div>

<div class="viewcode-block" id="Expression.get_name"><a class="viewcode-back" href="../../generated/sasoptpy.Expression.get_name.html#sasoptpy.Expression.get_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the name of the expression</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        string</span>
<span class="sd">            Name of the expression</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; var1 = m.add_variables(name=&#39;x&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(var1.get_name())</span>
<span class="sd">        x</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span></div>

<div class="viewcode-block" id="Expression.set_permanent"><a class="viewcode-back" href="../../generated/sasoptpy.Expression.set_permanent.html#sasoptpy.Expression.set_permanent">[docs]</a>    <span class="k">def</span> <span class="nf">set_permanent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Converts a temporary expression into a permanent one</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : string, optional</span>
<span class="sd">            Name of the expression</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        string</span>
<span class="sd">            Name of the expression in the namespace</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">check_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">)</span>
            <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_temp</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span></div>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;sasoptpy.Expression(&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;exp = </span><span class="si">{}</span><span class="s1">, name=</span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;exp = </span><span class="si">{}</span><span class="s1">, name=None&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">firstel</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
            <span class="n">vx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span>
               <span class="p">(</span><span class="n">v</span> <span class="o">==</span> <span class="s1">&#39;CONST&#39;</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Constraint</span><span class="p">))):</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">firstel</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">copysign</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">vx</span><span class="p">[</span><span class="s1">&#39;val&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">copysign</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">vx</span><span class="p">[</span><span class="s1">&#39;val&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; + &#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; - &#39;</span>
            <span class="n">firstel</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span><span class="p">(</span><span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s1">&#39;CONST&#39;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">vx</span><span class="p">[</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">vx</span><span class="p">[</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; </span><span class="si">{}</span><span class="s1"> &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vx</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; </span><span class="si">{}</span><span class="s1"> * </span><span class="si">{}</span><span class="s1"> &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">vx</span><span class="p">[</span><span class="s1">&#39;val&#39;</span><span class="p">])),</span> <span class="n">vx</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Constraint</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">vx</span><span class="p">[</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; </span><span class="si">{}</span><span class="s1"> &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">vx</span><span class="p">[</span><span class="s1">&#39;val&#39;</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">_add_coef_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Changes value of a variable inside the :class:`Expression` object in</span>
<span class="sd">        place</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        var : :class:`Variable`</span>
<span class="sd">            Variable object whose value will be changed</span>
<span class="sd">        varname : string</span>
<span class="sd">            Name of the variable object</span>
<span class="sd">        value : float</span>
<span class="sd">            New value or the addition to the existing value of the variable</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="n">var</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">}</span>

<div class="viewcode-block" id="Expression.add"><a class="viewcode-back" href="../../generated/sasoptpy.Expression.add.html#sasoptpy.Expression.add">[docs]</a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">sign</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Combines two expressions and produces a new one</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other : float or :class:`Expression` object</span>
<span class="sd">            Second expression or constant value to be added</span>
<span class="sd">        sign : int, optional</span>
<span class="sd">            Sign of the addition, 1 or -1</span>
<span class="sd">        in_place : boolean, optional</span>
<span class="sd">            Whether the addition will be performed in place or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Expression` object</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This method is mainly for internal use.</span>
<span class="sd">        * Adding an expression is equivalent to calling this method:</span>
<span class="sd">          (x-y)+(3*x-2*y) and (x-y).add(3*x-2*y) are interchangeable.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_temp</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Expression</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Expression</span><span class="p">)</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">_temp</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">other</span>
                <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="n">sign</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Expression</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="n">sign</span>
        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">):</span>
            <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Expression.mult"><a class="viewcode-back" href="../../generated/sasoptpy.Expression.mult.html#sasoptpy.Expression.mult">[docs]</a>    <span class="k">def</span> <span class="nf">mult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Multiplies the :class:`Expression` with a scalar value</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other : :class:`Expression` or int</span>
<span class="sd">            Second expression to be multiplied</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Expression` object</span>
<span class="sd">            A new :class:`Expression` that represents the multiplication</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This method is mainly for internal use.</span>
<span class="sd">        * Multiplying an expression is equivalent to calling this method:</span>
<span class="sd">          3*(x-y) and (x-y).mult(3) are interchangeable.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1">#  TODO r=self could be used whenever expression has no name</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Expression</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Two expressions cannot be multiplied.&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_temp</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Expression</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">other</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CONST&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}}</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">mylc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="n">other</span>
                <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">Expression</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">other</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">mylc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                        <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">])</span>
                        <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">mylc</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">r</span></div>

    <span class="k">def</span> <span class="nf">_relational</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">direction_</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Creates a logical relation between :class:`Expression` objects</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other: :class:`Expression`</span>
<span class="sd">            Expression on the other side of the relation wrt self</span>
<span class="sd">        direction_: string</span>
<span class="sd">            Direction of the logical relation, either &#39;E&#39;, &#39;L&#39;, or &#39;G&#39;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Constraint`</span>
<span class="sd">            Constraint generated as a result of linear relation</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># If the user provides both an upper and a lower bnd.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">direction_</span> <span class="o">==</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">e</span><span class="o">.</span><span class="n">_add_coef_value</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;CONST&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="nb">min</span><span class="p">(</span><span class="n">other</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">other</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">ranged_constraint</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">exp</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;E&#39;</span><span class="p">,</span>
                                           <span class="n">crange</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">other</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">other</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="k">return</span> <span class="n">ranged_constraint</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Variable</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_temp</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Expression</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="c1">#  TODO r=self could be used whenever expression has no name</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">):</span>
                <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="n">other</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Expression</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">_add_coef_value</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;ref&#39;</span><span class="p">],</span> <span class="n">v</span><span class="p">,</span>
                                      <span class="o">-</span><span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">])</span>
            <span class="n">generated_constraint</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">exp</span><span class="o">=</span><span class="n">r</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction_</span><span class="p">,</span>
                                              <span class="n">crange</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">generated_constraint</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">Expression</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                <span class="n">r</span><span class="o">.</span><span class="n">_add_coef_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;ref&#39;</span><span class="p">],</span> <span class="n">v</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">):</span>
                <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="n">other</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">_add_coef_value</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;ref&#39;</span><span class="p">],</span>
                                      <span class="n">v</span><span class="p">,</span> <span class="o">-</span><span class="n">other</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">])</span>
            <span class="n">generated_constraint</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">exp</span><span class="o">=</span><span class="n">r</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction_</span><span class="p">,</span>
                                              <span class="n">crange</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">generated_constraint</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mult</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">tmp</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
            <span class="n">tmp</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">tmp</span>

    <span class="k">def</span> <span class="nf">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mult</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mult</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relational</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relational</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relational</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rle__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relational</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relational</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mult</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="Variable"><a class="viewcode-back" href="../../generated/sasoptpy.Variable.html#sasoptpy.Variable">[docs]</a><span class="k">class</span> <span class="nc">Variable</span><span class="p">(</span><span class="n">Expression</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Creates an optimization variable to be used inside models</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : string</span>
<span class="sd">        Name of the variable</span>
<span class="sd">    vartype : string, optional</span>
<span class="sd">        Type of the variable</span>
<span class="sd">    lb : float, optional</span>
<span class="sd">        Lower bound of the variable</span>
<span class="sd">    ub : float, optional</span>
<span class="sd">        Upper bound of the variable</span>
<span class="sd">    init : float, optional</span>
<span class="sd">        Initial value of the variable</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; x = so.Variable(name=&#39;x&#39;, lb=0, ub=20, vartype=so.CONT)</span>
<span class="sd">    &gt;&gt;&gt; print(repr(x))</span>
<span class="sd">    sasoptpy.Variable(name=&#39;x&#39;, lb=0, ub=20, vartype=&#39;CONT&#39;)</span>

<span class="sd">    &gt;&gt;&gt; y = so.Variable(name=&#39;y&#39;, init=1, vartype=so.INT)</span>
<span class="sd">    &gt;&gt;&gt; print(repr(y))</span>
<span class="sd">    sasoptpy.Variable(name=&#39;y&#39;, lb=0, ub=inf, init=1, vartype=&#39;INT&#39;)</span>

<span class="sd">    See also</span>
<span class="sd">    --------</span>
<span class="sd">    :func:`sasoptpy.Model.add_variable`</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">vartype</span><span class="o">=</span><span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">CONT</span><span class="p">,</span> <span class="n">lb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="n">inf</span><span class="p">,</span>
                 <span class="n">init</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">check_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;var&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="n">vartype</span>
        <span class="k">if</span> <span class="n">lb</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">lb</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">ub</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ub</span> <span class="o">=</span> <span class="n">inf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lb</span> <span class="o">=</span> <span class="n">lb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ub</span> <span class="o">=</span> <span class="n">ub</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="n">init</span>
        <span class="k">if</span> <span class="n">vartype</span> <span class="o">==</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">BIN</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lb</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_lb</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ub</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ub</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}</span>
        <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cons</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_temp</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_set_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_key</span> <span class="o">=</span> <span class="n">key</span>

<div class="viewcode-block" id="Variable.set_bounds"><a class="viewcode-back" href="../../generated/sasoptpy.Variable.set_bounds.html#sasoptpy.Variable.set_bounds">[docs]</a>    <span class="k">def</span> <span class="nf">set_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lb</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Changes bounds on a variable</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        lb : float</span>
<span class="sd">            Lower bound of the variable</span>
<span class="sd">        ub : float</span>
<span class="sd">            Upper bound of the variable</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; x = so.Variable(name=&#39;x&#39;, lb=0, ub=20)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(x))</span>
<span class="sd">        sasoptpy.Variable(name=&#39;x&#39;, lb=0, ub=20, vartype=&#39;CONT&#39;)</span>
<span class="sd">        &gt;&gt;&gt; x.set_bounds(lb=5, ub=15)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(x))</span>
<span class="sd">        sasoptpy.Variable(name=&#39;x&#39;, lb=5, ub=15, vartype=&#39;CONT&#39;)</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">lb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lb</span> <span class="o">=</span> <span class="n">lb</span>
        <span class="k">if</span> <span class="n">ub</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ub</span> <span class="o">=</span> <span class="n">ub</span></div>

<div class="viewcode-block" id="Variable.set_init"><a class="viewcode-back" href="../../generated/sasoptpy.Variable.set_init.html#sasoptpy.Variable.set_init">[docs]</a>    <span class="k">def</span> <span class="nf">set_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Changes initial value of a variable</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        init : float or None</span>
<span class="sd">            Initial value of the variable</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; x = so.Variable(name=&#39;x&#39;)</span>
<span class="sd">        &gt;&gt;&gt; x.set_init(5)</span>

<span class="sd">        &gt;&gt;&gt; y = so.Variable(name=&#39;y&#39;, init=3)</span>
<span class="sd">        &gt;&gt;&gt; y.set_init()</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="n">init</span></div>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">st</span> <span class="o">=</span> <span class="s1">&#39;sasoptpy.Variable(name=</span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1">, &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;lb=</span><span class="si">{}</span><span class="s1">, &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_lb</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ub</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">inf</span><span class="p">:</span>
            <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;ub=</span><span class="si">{}</span><span class="s1">, &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ub</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;init=</span><span class="si">{}</span><span class="s1">, &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">)</span>
        <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39; vartype=</span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">st</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_key</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_key</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># Remove comma</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_key</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Remove parantheses</span>
            <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">[</span><span class="si">{}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">key</span><span class="p">))</span>
        <span class="k">return</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_tag_constraint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Adds a constraint into list of constraints that the variable appears</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="o">==</span> <span class="s1">&#39;_temp&#39;</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING: Variables cannot be temporary.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="Constraint"><a class="viewcode-back" href="../../generated/sasoptpy.Constraint.html#sasoptpy.Constraint">[docs]</a><span class="k">class</span> <span class="nc">Constraint</span><span class="p">(</span><span class="n">Expression</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Creates a linear or quadratic constraint for optimization models</span>

<span class="sd">    Constraints should be created by adding logical relations to</span>
<span class="sd">    :class:`Expression` objects.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    exp : :class:`Expression`</span>
<span class="sd">        A logical expression that forms the constraint</span>
<span class="sd">    direction : string</span>
<span class="sd">        Direction of the logical expression, &#39;E&#39; (=), &#39;L&#39; (&lt;=) or &#39;G&#39; (&gt;=)</span>
<span class="sd">    name : string, optional</span>
<span class="sd">        Name of the constraint object</span>
<span class="sd">    range : float, optional</span>
<span class="sd">        Range for ranged constraints</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; c1 = so.Constraint( 3 * x - 5 * y &lt;= 10, name=&#39;c1&#39;)</span>
<span class="sd">    &gt;&gt;&gt; print(repr(c1))</span>
<span class="sd">    sasoptpy.Constraint( -  5.0 * y  +  3.0 * x  &lt;=  10, name=&#39;c1&#39;)</span>

<span class="sd">    &gt;&gt;&gt; c2 = so.Constraint( - x + 2 * y - 5, direction=&#39;L&#39;, name=&#39;c2&#39;)</span>
<span class="sd">    sasoptpy.Constraint( -  x  +  2.0 * y  &lt;=  5, name=&#39;c2&#39;)</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>

<span class="sd">    * A constraint can be generated in multiple ways:</span>

<span class="sd">      1. Using the :func:`sasoptpy.Model.add_constraint` method</span>

<span class="sd">         &gt;&gt;&gt; c1 = m.add_constraint(3 * x - 5 * y &lt;= 10, name=&#39;c1&#39;)</span>
<span class="sd">         &gt;&gt;&gt; print(repr(c1))</span>
<span class="sd">         sasoptpy.Constraint( -  5.0 * y  +  3.0 * x  &lt;=  10, name=&#39;c1&#39;)</span>

<span class="sd">      2. Using the constructor</span>

<span class="sd">         &gt;&gt;&gt; c1 = sasoptpy.Constraint(3 * x - 5 * y &lt;= 10, name=&#39;c1&#39;)</span>
<span class="sd">         &gt;&gt;&gt; print(repr(c1))</span>
<span class="sd">         sasoptpy.Constraint( -  5.0 * y  +  3.0 * x  &lt;=  10, name=&#39;c1&#39;)</span>

<span class="sd">    * The same constraint can be included into other models using the</span>
<span class="sd">      :func:`Model.include` method.</span>

<span class="sd">    See also</span>
<span class="sd">    --------</span>
<span class="sd">    :func:`sasoptpy.Model.add_constraint`</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">crange</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">check_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;con&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">exp</span><span class="o">.</span><span class="n">_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span> <span class="o">=</span> <span class="n">exp</span><span class="o">.</span><span class="n">_linCoef</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">m</span> <span class="o">!=</span> <span class="s1">&#39;CONST&#39;</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="s1">&#39;ref&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">_tag_constraint</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">exp</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">m</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">m</span> <span class="o">!=</span> <span class="s1">&#39;CONST&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="s1">&#39;ref&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">_tag_constraint</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">direction</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_direction</span> <span class="o">=</span> <span class="n">exp</span><span class="o">.</span><span class="n">_direction</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_direction</span> <span class="o">=</span> <span class="n">direction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_range</span> <span class="o">=</span> <span class="n">crange</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_block</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_temp</span> <span class="o">=</span> <span class="kc">False</span>

<div class="viewcode-block" id="Constraint.update_var_coef"><a class="viewcode-back" href="../../generated/sasoptpy.Constraint.update_var_coef.html#sasoptpy.Constraint.update_var_coef">[docs]</a>    <span class="k">def</span> <span class="nf">update_var_coef</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Updates the coefficient of a variable inside the constraint</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        var : :class:`Variable` object</span>
<span class="sd">            Variable to be updated</span>
<span class="sd">        value : float</span>
<span class="sd">            Coefficient of the variable in the constraint</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; c1 = so.Constraint(exp=3 * x - 5 * y &lt;= 10, name=&#39;c1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(c1))</span>
<span class="sd">        sasoptpy.Constraint( -  5.0 * y  +  3.0 * x  &lt;=  10, name=&#39;c1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; c1.update_var_coef(x, -1)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(c1))</span>
<span class="sd">        sasoptpy.Constraint( -  5.0 * y  -  x  &lt;=  10, name=&#39;c1&#39;)</span>

<span class="sd">        See also</span>
<span class="sd">        --------</span>
<span class="sd">        :func:`sasoptpy.Model.set_coef`</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">varname</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">_name</span>
        <span class="k">if</span> <span class="n">varname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">varname</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">varname</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="n">var</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">}</span></div>

<div class="viewcode-block" id="Constraint.set_rhs"><a class="viewcode-back" href="../../generated/sasoptpy.Constraint.set_rhs.html#sasoptpy.Constraint.set_rhs">[docs]</a>    <span class="k">def</span> <span class="nf">set_rhs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Changes the RHS of a constraint</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : float</span>
<span class="sd">            New RHS value for the constraint</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; x = m.add_variable(name=&#39;x&#39;)</span>
<span class="sd">        &gt;&gt;&gt; y = m.add_variable(name=&#39;y&#39;)</span>
<span class="sd">        &gt;&gt;&gt; c = m.add_constraint(x + 3*y &lt;= 10, name=&#39;con_1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(c)</span>
<span class="sd">        x  +  3.0 * y  &lt;=  10</span>
<span class="sd">        &gt;&gt;&gt; c.set_rhs(5)</span>
<span class="sd">        &gt;&gt;&gt; print(c)</span>
<span class="sd">        x  +  3.0 * y  &lt;=  5</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">value</span></div>

<div class="viewcode-block" id="Constraint.set_direction"><a class="viewcode-back" href="../../generated/sasoptpy.Constraint.set_direction.html#sasoptpy.Constraint.set_direction">[docs]</a>    <span class="k">def</span> <span class="nf">set_direction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Changes the direction of a constraint</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        direction : string</span>
<span class="sd">            Direction of the constraint, &#39;E&#39;, &#39;L&#39;, or &#39;G&#39; for equal to,</span>
<span class="sd">            less than or equal to, and greater than or equal to, respectively</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; c1 = so.Constraint(exp=3 * x - 5 * y &lt;= 10, name=&#39;c1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(c1))</span>
<span class="sd">        sasoptpy.Constraint( 3.0 * x  -  5.0 * y  &lt;=  10, name=&#39;c1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; c1.set_direction(&#39;G&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(c1))</span>
<span class="sd">        sasoptpy.Constraint( 3.0 * x  -  5.0 * y  &gt;=  10, name=&#39;c1&#39;)</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">direction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_direction</span> <span class="o">=</span> <span class="n">direction</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING: Cannot change constraint direction </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">direction</span><span class="p">))</span></div>

<div class="viewcode-block" id="Constraint.set_block"><a class="viewcode-back" href="../../generated/sasoptpy.Constraint.set_block.html#sasoptpy.Constraint.set_block">[docs]</a>    <span class="k">def</span> <span class="nf">set_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block_number</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Sets the decomposition block number for a constraint</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        block_number : int</span>
<span class="sd">            Block number of the constraint</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; c1 = m.add_constraints((x + 2 * y[i] &lt;= 5 for i in NODES),</span>
<span class="sd">                                   name=&#39;c1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; for i in NODES:</span>
<span class="sd">              c1[i].set_block(i)</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_block</span> <span class="o">=</span> <span class="n">block_number</span></div>

<div class="viewcode-block" id="Constraint.get_value"><a class="viewcode-back" href="../../generated/sasoptpy.Constraint.get_value.html#sasoptpy.Constraint.get_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the current value of the constraint</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rhs : boolean, optional</span>
<span class="sd">            Whether constant values (RHS) will be included in the value or not.</span>
<span class="sd">            Default is false</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; m.solve()</span>
<span class="sd">        &gt;&gt;&gt; print(c1.get_value())</span>
<span class="sd">        6.0</span>
<span class="sd">        &gt;&gt;&gt; print(c1.get_value(rhs=True))</span>
<span class="sd">        0.0</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">v</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">rhs</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">v</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">v</span></div>

    <span class="k">def</span> <span class="nf">_set_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_key</span> <span class="o">=</span> <span class="n">key</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_direction</span> <span class="o">==</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; == &#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_direction</span> <span class="o">==</span> <span class="s1">&#39;L&#39;</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; &lt;= &#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_direction</span> <span class="o">==</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; &gt;= &#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Constraint has no direction!&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_range</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39; [</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">],</span>
                                    <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">+</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">_range</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">st</span> <span class="o">=</span> <span class="s1">&#39;sasoptpy.Constraint(</span><span class="si">{}</span><span class="s1">, name=</span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1">)&#39;</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">st</span> <span class="o">=</span> <span class="s1">&#39;sasoptpy.Constraint(</span><span class="si">{}</span><span class="s1">, name=None)&#39;</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="VariableGroup"><a class="viewcode-back" href="../../generated/sasoptpy.VariableGroup.html#sasoptpy.VariableGroup">[docs]</a><span class="k">class</span> <span class="nc">VariableGroup</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Creates a group of :class:`Variable` objects</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    argv : list, dict, int, :class:`pandas.Index`</span>
<span class="sd">        Loop index for variable group</span>
<span class="sd">    name : string, optional</span>
<span class="sd">        Name (prefix) of the variables</span>
<span class="sd">    vartype : string, optional</span>
<span class="sd">        Type of variables, `BIN`, `INT`, or `CONT`</span>
<span class="sd">    lb : list, dict, :class:`pandas.Series`, optional</span>
<span class="sd">        Lower bounds of variables</span>
<span class="sd">    ub : list, dict, :class:`pandas.Series`, optional</span>
<span class="sd">        Upper bounds of variables</span>
<span class="sd">    init : float, optional</span>
<span class="sd">        Initial values of variables</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; PERIODS = [&#39;Period1&#39;, &#39;Period2&#39;, &#39;Period3&#39;]</span>
<span class="sd">    &gt;&gt;&gt; production = so.VariableGroup(PERIODS, vartype=so.INT,</span>
<span class="sd">                                      name=&#39;production&#39;, lb=10)</span>
<span class="sd">    &gt;&gt;&gt; print(production)</span>
<span class="sd">    Variable Group (production) [</span>
<span class="sd">      [Period1: production[&#39;Period1&#39;]]</span>
<span class="sd">      [Period2: production[&#39;Period2&#39;]]</span>
<span class="sd">      [Period3: production[&#39;Period3&#39;]]</span>
<span class="sd">    ]</span>

<span class="sd">    &gt;&gt;&gt; x = so.VariableGroup(4, vartype=so.BIN, name=&#39;x&#39;)</span>
<span class="sd">    &gt;&gt;&gt; print(x)</span>
<span class="sd">    Variable Group (x) [</span>
<span class="sd">      [0: x[0]]</span>
<span class="sd">      [1: x[1]]</span>
<span class="sd">      [2: x[2]]</span>
<span class="sd">      [3: x[3]]</span>
<span class="sd">    ]</span>

<span class="sd">    &gt;&gt;&gt; z = so.VariableGroup(2, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], name=&#39;z&#39;)</span>
<span class="sd">    &gt;&gt;&gt; print(z)</span>
<span class="sd">    Variable Group (z) [</span>
<span class="sd">      [(0, &#39;a&#39;): z[0, &#39;a&#39;]]</span>
<span class="sd">      [(0, &#39;b&#39;): z[0, &#39;b&#39;]]</span>
<span class="sd">      [(0, &#39;c&#39;): z[0, &#39;c&#39;]]</span>
<span class="sd">      [(1, &#39;a&#39;): z[1, &#39;a&#39;]]</span>
<span class="sd">      [(1, &#39;b&#39;): z[1, &#39;b&#39;]]</span>
<span class="sd">      [(1, &#39;c&#39;): z[1, &#39;c&#39;]]</span>
<span class="sd">    ]</span>
<span class="sd">    &gt;&gt;&gt; print(repr(z))</span>
<span class="sd">    sasoptpy.VariableGroup([0, 1], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], name=&#39;z&#39;)</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * When working with a single model, use the</span>
<span class="sd">      :func:`sasoptpy.Model.add_variables` method.</span>
<span class="sd">    * If a variable group object is created, it can be added to a model using</span>
<span class="sd">      the :func:`sasoptpy.Model.include` method.</span>
<span class="sd">    * An individual variable inside the group can be accessed using indices.</span>

<span class="sd">      &gt;&gt;&gt; z = so.VariableGroup(2, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], name=&#39;z&#39;, lb=0, ub=10)</span>
<span class="sd">      &gt;&gt;&gt; print(repr(z[0, &#39;a&#39;]))</span>
<span class="sd">      sasoptpy.Variable(name=&#39;z_0_a&#39;, lb=0, ub=10, vartype=&#39;CONT&#39;)</span>

<span class="sd">    See also</span>
<span class="sd">    --------</span>
<span class="sd">    :func:`sasoptpy.Model.add_variables`</span>
<span class="sd">    :func:`sasoptpy.Model.include`</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">argv</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">vartype</span><span class="o">=</span><span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">CONT</span><span class="p">,</span> <span class="n">lb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">ub</span><span class="o">=</span><span class="n">inf</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_groups</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_recursive_add_vars</span><span class="p">(</span><span class="o">*</span><span class="n">argv</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                                 <span class="n">vartype</span><span class="o">=</span><span class="n">vartype</span><span class="p">,</span> <span class="n">lb</span><span class="o">=</span><span class="n">lb</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="n">ub</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="n">init</span><span class="p">,</span>
                                 <span class="n">vardict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">check_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;var&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_var_info</span><span class="p">()</span>

<div class="viewcode-block" id="VariableGroup.get_name"><a class="viewcode-back" href="../../generated/sasoptpy.VariableGroup.get_name.html#sasoptpy.VariableGroup.get_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the name of the variable group</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        string</span>
<span class="sd">            Name of the variable group</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; var1 = m.add_variables(4, name=&#39;x&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(var1.get_name())</span>
<span class="sd">        x</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span></div>

    <span class="k">def</span> <span class="nf">_recursive_add_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">argv</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">vartype</span><span class="p">,</span> <span class="n">lb</span><span class="p">,</span> <span class="n">ub</span><span class="p">,</span> <span class="n">init</span><span class="p">,</span>
                            <span class="n">vardict</span><span class="o">=</span><span class="p">{},</span> <span class="n">vkeys</span><span class="o">=</span><span class="p">()):</span>
        <span class="n">the_list</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_argument_as_list</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">the_list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">newfixed</span> <span class="o">=</span> <span class="n">vkeys</span> <span class="o">+</span> <span class="n">i</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">newfixed</span> <span class="o">=</span> <span class="n">vkeys</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span><span class="p">,)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">varname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">newfixed</span><span class="p">):</span>
                    <span class="n">varname</span> <span class="o">+=</span> <span class="s1">&#39;_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_groups</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_groups</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_groups</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                <span class="n">varlb</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_list_value</span><span class="p">(</span><span class="n">newfixed</span><span class="p">,</span> <span class="n">lb</span><span class="p">)</span>
                <span class="n">varub</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_list_value</span><span class="p">(</span><span class="n">newfixed</span><span class="p">,</span> <span class="n">ub</span><span class="p">)</span>
                <span class="n">varin</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_list_value</span><span class="p">(</span><span class="n">newfixed</span><span class="p">,</span> <span class="n">init</span><span class="p">)</span>
                <span class="n">new_var</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">varname</span><span class="p">,</span> <span class="n">lb</span><span class="o">=</span><span class="n">varlb</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="n">varub</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="n">varin</span><span class="p">,</span>
                    <span class="n">vartype</span><span class="o">=</span><span class="n">vartype</span><span class="p">)</span>
                <span class="n">vardict</span><span class="p">[</span><span class="n">newfixed</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_var</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_recursive_add_vars</span><span class="p">(</span><span class="o">*</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">vardict</span><span class="o">=</span><span class="n">vardict</span><span class="p">,</span>
                                         <span class="n">vkeys</span><span class="o">=</span><span class="n">newfixed</span><span class="p">,</span>
                                         <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">vartype</span><span class="o">=</span><span class="n">vartype</span><span class="p">,</span>
                                         <span class="n">lb</span><span class="o">=</span><span class="n">lb</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="n">ub</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="n">init</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_var_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">_set_info</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Overloaded method to access individual variables</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        key : string or int</span>
<span class="sd">            Key of the variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Variable` object or list of :class:`Variable` objects</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">tuple_pack</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">indices_to_filter</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">filter_values</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">list_of_variables</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                    <span class="n">indices_to_filter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                    <span class="n">filter_values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">_list_item</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">:</span>
                <span class="n">eligible</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">indices_to_filter</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">filter_values</span><span class="p">[</span><span class="n">f</span><span class="p">]:</span>
                        <span class="n">eligible</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">if</span> <span class="n">eligible</span><span class="p">:</span>
                    <span class="n">list_of_variables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">list_of_variables</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Requested variable group is empty:&#39;</span> <span class="o">+</span>
                              <span class="s1">&#39; </span><span class="si">{}</span><span class="s1">[</span><span class="si">{}</span><span class="s1">] (</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span>
                              <span class="nb">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">key</span><span class="p">)),</span>
                              <span class="ne">RuntimeWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">list_of_variables</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ls</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="o">.</span><span class="n">keys</span><span class="p">())]</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">ls</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="n">ls</span><span class="p">)</span>

<div class="viewcode-block" id="VariableGroup.sum"><a class="viewcode-back" href="../../generated/sasoptpy.VariableGroup.sum.html#sasoptpy.VariableGroup.sum">[docs]</a>    <span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">argv</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Quick sum method for the variable groups</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        argv : Arguments</span>
<span class="sd">            List of indices for the sum</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Expression` object</span>
<span class="sd">            Expression that represents the sum of all variables in the group</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; z = so.VariableGroup(2, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], name=&#39;z&#39;, lb=0, ub=10)</span>
<span class="sd">        &gt;&gt;&gt; e1 = z.sum(&#39;*&#39;, &#39;*&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(e1)</span>
<span class="sd">        z[1, &#39;c&#39;]  +  z[1, &#39;a&#39;]  +  z[1, &#39;b&#39;]  +  z[0, &#39;a&#39;]  +  z[0, &#39;b&#39;]  +</span>
<span class="sd">        z[0, &#39;c&#39;]</span>
<span class="sd">        &gt;&gt;&gt; e2 = z.sum(&#39;*&#39;, &#39;a&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(e2)</span>
<span class="sd">         z[1, &#39;a&#39;]  +  z[0, &#39;a&#39;]</span>
<span class="sd">        &gt;&gt;&gt; e3 = z.sum(&#39;*&#39;, [&#39;a&#39;, &#39;b&#39;])</span>
<span class="sd">        &gt;&gt;&gt; print(e3)</span>
<span class="sd">         z[1, &#39;a&#39;]  +  z[0, &#39;b&#39;]  +  z[1, &#39;b&#39;]  +  z[0, &#39;a&#39;]</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">Expression</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">feas_set</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                <span class="n">feas_set</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_groups</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s2">&quot;__iter__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">feas_set</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">feas_set</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">a</span><span class="p">])</span>
        <span class="n">combs</span> <span class="o">=</span> <span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">feas_set</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">combs</span><span class="p">:</span>
            <span class="n">var_key</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">tuple_pack</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">var_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">:</span>
                <span class="n">r</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">var_key</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">r</span><span class="o">.</span><span class="n">set_permanent</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="VariableGroup.mult"><a class="viewcode-back" href="../../generated/sasoptpy.VariableGroup.mult.html#sasoptpy.VariableGroup.mult">[docs]</a>    <span class="k">def</span> <span class="nf">mult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Quick multiplication method for the variable groups</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        vector : list, dictionary, or :class:`pandas.Series` object</span>
<span class="sd">            Vector to be multiplied with the variable group</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Expression` object</span>
<span class="sd">            An expression that is the product of the variable group with the</span>
<span class="sd">            given vector</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Multiplying with a list</span>

<span class="sd">        &gt;&gt;&gt; x = so.VariableGroup(4, vartype=so.BIN, name=&#39;x&#39;)</span>
<span class="sd">        &gt;&gt;&gt; e1 = x.mult([1, 5, 6, 10])</span>
<span class="sd">        &gt;&gt;&gt; print(e1)</span>
<span class="sd">         10.0 * x[3]  +  6.0 * x[2]  +  x[0]  +  5.0 * x[1]</span>

<span class="sd">        Multiplying with a dictionary</span>

<span class="sd">        &gt;&gt;&gt; y = so.VariableGroup([0, 1], [&#39;a&#39;, &#39;b&#39;], name=&#39;y&#39;, lb=0, ub=10)</span>
<span class="sd">        &gt;&gt;&gt; dvals = {(0, &#39;a&#39;): 1, (0, &#39;b&#39;): 2, (1, &#39;a&#39;): -1, (1, &#39;b&#39;): 5}</span>
<span class="sd">        &gt;&gt;&gt; e2 = y.mult(dvals)</span>
<span class="sd">        &gt;&gt;&gt; print(e2)</span>
<span class="sd">         2.0 * y[0, &#39;b&#39;]  -  y[1, &#39;a&#39;]  +  y[0, &#39;a&#39;]  +  5.0 * y[1, &#39;b&#39;]</span>

<span class="sd">        Multiplying with a pandas.Series object</span>

<span class="sd">        &gt;&gt;&gt; u = so.VariableGroup([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], name=&#39;u&#39;)</span>
<span class="sd">        &gt;&gt;&gt; ps = pd.Series([0.1, 1.5, -0.2, 0.3], index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])</span>
<span class="sd">        &gt;&gt;&gt; e3 = u.mult(ps)</span>
<span class="sd">        &gt;&gt;&gt; print(e3)</span>
<span class="sd">         1.5 * u[&#39;b&#39;]  +  0.1 * u[&#39;a&#39;]  -  0.2 * u[&#39;c&#39;]  +  0.3 * u[&#39;d&#39;]</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">Expression</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">vector</span><span class="p">):</span>
                <span class="n">var</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">]</span>
                <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">var</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="n">var</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">i</span><span class="p">]}</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">vector</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">k</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">tuple_pack</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="n">var</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">var</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="n">var</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">key</span><span class="p">]}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">vector</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                    <span class="n">k</span> <span class="o">=</span> <span class="n">key</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="n">key</span><span class="p">,)</span>
                <span class="n">var</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                <span class="n">r</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="n">var</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="n">var</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">i</span><span class="p">]}</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="VariableGroup.set_bounds"><a class="viewcode-back" href="../../generated/sasoptpy.VariableGroup.set_bounds.html#sasoptpy.VariableGroup.set_bounds">[docs]</a>    <span class="k">def</span> <span class="nf">set_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lb</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Sets / updates bounds for the given variable</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        lb : Lower bound, optional</span>
<span class="sd">        ub : Upper bound, optional</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; z = so.VariableGroup(2, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], name=&#39;z&#39;, lb=0, ub=10)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(z[0, &#39;a&#39;]))</span>
<span class="sd">        sasoptpy.Variable(name=&#39;z_0_a&#39;, lb=0, ub=10, vartype=&#39;CONT&#39;)</span>
<span class="sd">        &gt;&gt;&gt; z.set_bounds(lb=3, ub=5)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(z[0, &#39;a&#39;]))</span>
<span class="sd">        sasoptpy.Variable(name=&#39;z_0_a&#39;, lb=3, ub=5, vartype=&#39;CONT&#39;)</span>

<span class="sd">        &gt;&gt;&gt; u = so.VariableGroup([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], name=&#39;u&#39;)</span>
<span class="sd">        &gt;&gt;&gt; lb_vals = pd.Series([1, 4, 0, -1], index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])</span>
<span class="sd">        &gt;&gt;&gt; u.set_bounds(lb=lb_vals)</span>
<span class="sd">        &gt;&gt;&gt; print(repr(u[&#39;b&#39;]))</span>
<span class="sd">        sasoptpy.Variable(name=&#39;u_b&#39;, lb=4, ub=inf, vartype=&#39;CONT&#39;)</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">:</span>
            <span class="n">varlb</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_list_value</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">lb</span><span class="p">)</span>
            <span class="n">varub</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_list_value</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">ub</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="o">.</span><span class="n">set_bounds</span><span class="p">(</span><span class="n">lb</span><span class="o">=</span><span class="n">varlb</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="n">varub</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Variable Group (</span><span class="si">{}</span><span class="s1">) [</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">vd</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">vd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vd</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  [</span><span class="si">{}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">]</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">tuple_unpack</span><span class="p">(</span><span class="n">k</span><span class="p">),</span>
                                       <span class="n">v</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;]&#39;</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;sasoptpy.VariableGroup(&#39;</span>
        <span class="n">keylen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">keylen</span><span class="p">):</span>
            <span class="n">ls</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">vd</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="n">vd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vardict</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vd</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ls</span><span class="p">:</span>
                    <span class="n">ls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">, &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ls</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;name=</span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="ConstraintGroup"><a class="viewcode-back" href="../../generated/sasoptpy.ConstraintGroup.html#sasoptpy.ConstraintGroup">[docs]</a><span class="k">class</span> <span class="nc">ConstraintGroup</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Creates a group of :class:`Constraint` objects</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    argv : GeneratorType object</span>
<span class="sd">        A Python generator that includes :class:`sasoptpy.Expression` objects</span>
<span class="sd">    name : string, optional</span>
<span class="sd">        Name (prefix) of the constraints</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; var_ind = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span>
<span class="sd">    &gt;&gt;&gt; u = so.VariableGroup(var_ind, name=&#39;u&#39;)</span>
<span class="sd">    &gt;&gt;&gt; t = so.Variable(name=&#39;t&#39;)</span>
<span class="sd">    &gt;&gt;&gt; cg = so.ConstraintGroup((u[i] + 2 * t &lt;= 5 for i in var_ind),</span>
<span class="sd">                                name=&#39;cg&#39;)</span>
<span class="sd">    &gt;&gt;&gt; print(cg)</span>
<span class="sd">    Constraint Group (cg) [</span>
<span class="sd">      [a:  2.0 * t  +  u[&#39;a&#39;]  &lt;=  5]</span>
<span class="sd">      [b:  u[&#39;b&#39;]  +  2.0 * t  &lt;=  5]</span>
<span class="sd">      [c:  2.0 * t  +  u[&#39;c&#39;]  &lt;=  5]</span>
<span class="sd">      [d:  2.0 * t  +  u[&#39;d&#39;]  &lt;=  5]</span>
<span class="sd">    ]</span>

<span class="sd">    &gt;&gt;&gt; z = so.VariableGroup(2, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], name=&#39;z&#39;, lb=0, ub=10)</span>
<span class="sd">    &gt;&gt;&gt; cg2 = so.ConstraintGroup((2 * z[i, j] + 3 * z[i-1, j] &gt;= 2 for i in</span>
<span class="sd">                                  [1] for j in [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]), name=&#39;cg2&#39;)</span>
<span class="sd">    &gt;&gt;&gt; print(cg2)</span>
<span class="sd">    Constraint Group (cg2) [</span>
<span class="sd">      [(1, &#39;a&#39;):  3.0 * z[0, &#39;a&#39;]  +  2.0 * z[1, &#39;a&#39;]  &gt;=  2]</span>
<span class="sd">      [(1, &#39;b&#39;):  2.0 * z[1, &#39;b&#39;]  +  3.0 * z[0, &#39;b&#39;]  &gt;=  2]</span>
<span class="sd">      [(1, &#39;c&#39;):  2.0 * z[1, &#39;c&#39;]  +  3.0 * z[0, &#39;c&#39;]  &gt;=  2]</span>
<span class="sd">    ]</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Use :func:`sasoptpy.Model.add_constraints` when working with a single</span>
<span class="sd">    model.</span>

<span class="sd">    See also</span>
<span class="sd">    --------</span>
<span class="sd">    :func:`sasoptpy.Model.add_constraints`</span>
<span class="sd">    :func:`sasoptpy.Model.include`</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="n">GeneratorType</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_recursive_add_cons</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">condict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">check_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;con&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="ConstraintGroup.get_name"><a class="viewcode-back" href="../../generated/sasoptpy.ConstraintGroup.get_name.html#sasoptpy.ConstraintGroup.get_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">            Returns the name of the constraint group</span>

<span class="sd">            Returns</span>
<span class="sd">            -------</span>
<span class="sd">            string</span>
<span class="sd">                Name of the constraint group</span>

<span class="sd">            Examples</span>
<span class="sd">            --------</span>

<span class="sd">            &gt;&gt;&gt; c1 = m.add_constraints((x + y[i] &lt;= 4 for i in indices),</span>
<span class="sd">                                       name=&#39;con1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; print(c1.get_name())</span>
<span class="sd">            con1</span>
<span class="sd">            &#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span></div>

    <span class="k">def</span> <span class="nf">_recursive_add_cons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">condict</span><span class="p">,</span> <span class="n">ckeys</span><span class="o">=</span><span class="p">()):</span>
        <span class="n">conctr</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                <span class="n">newkeys</span> <span class="o">=</span> <span class="n">ckeys</span> <span class="o">+</span> <span class="p">(</span><span class="n">idx</span><span class="p">,)</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="n">GeneratorType</span><span class="p">:</span>
                <span class="n">newkeys</span> <span class="o">=</span> <span class="p">()</span>
                <span class="k">if</span> <span class="n">argv</span><span class="o">.</span><span class="n">gi_code</span><span class="o">.</span><span class="n">co_nlocals</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vnames</span> <span class="o">=</span> <span class="n">argv</span><span class="o">.</span><span class="n">gi_code</span><span class="o">.</span><span class="n">co_cellvars</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">vnames</span> <span class="o">=</span> <span class="n">argv</span><span class="o">.</span><span class="n">gi_code</span><span class="o">.</span><span class="n">co_varnames</span>
                <span class="n">vdict</span> <span class="o">=</span> <span class="n">argv</span><span class="o">.</span><span class="n">gi_frame</span><span class="o">.</span><span class="n">f_locals</span>
                <span class="k">for</span> <span class="n">ky</span> <span class="ow">in</span> <span class="n">vnames</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">ky</span> <span class="o">!=</span> <span class="s1">&#39;.0&#39;</span><span class="p">:</span>
                        <span class="n">newkeys</span> <span class="o">=</span> <span class="n">newkeys</span> <span class="o">+</span> <span class="p">(</span><span class="n">vdict</span><span class="p">[</span><span class="n">ky</span><span class="p">],)</span>
            <span class="n">conname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">conctr</span><span class="p">)</span>
            <span class="n">conname</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">check_name</span><span class="p">(</span><span class="n">conname</span><span class="p">,</span> <span class="s1">&#39;con&#39;</span><span class="p">)</span>
            <span class="n">newcon</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">exp</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">conname</span><span class="p">,</span> <span class="n">crange</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">_range</span><span class="p">)</span>
            <span class="n">condict</span><span class="p">[</span><span class="n">newkeys</span><span class="p">]</span> <span class="o">=</span> <span class="n">newcon</span>
            <span class="n">conctr</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_con_info</span><span class="p">()</span>

<div class="viewcode-block" id="ConstraintGroup.get_expressions"><a class="viewcode-back" href="../../generated/sasoptpy.ConstraintGroup.get_expressions.html#sasoptpy.ConstraintGroup.get_expressions">[docs]</a>    <span class="k">def</span> <span class="nf">get_expressions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns constraints as a list of expressions</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rhs : boolean, optional</span>
<span class="sd">            Whether to pass the constant part (rhs) of the constraint or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`pandas.DataFrame`</span>
<span class="sd">            Returns a DataFrame consisting of constraints as expressions</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        &gt;&gt;&gt; cg = so.ConstraintGroup((u[i] + 2 * t &lt;= 5 for i in var_ind),</span>
<span class="sd">                                    name=&#39;cg&#39;)</span>
<span class="sd">        &gt;&gt;&gt; ce = cg.get_expressions()</span>
<span class="sd">        &gt;&gt;&gt; print(ce)</span>
<span class="sd">                             cg</span>
<span class="sd">        c   u[&#39;c&#39;]  +  2.0 * t</span>
<span class="sd">        b   u[&#39;b&#39;]  +  2.0 * t</span>
<span class="sd">        d   u[&#39;d&#39;]  +  2.0 * t</span>
<span class="sd">        a   u[&#39;a&#39;]  +  2.0 * t</span>
<span class="sd">        &gt;&gt;&gt; ce_rhs = cg.get_expressions(rhs=True)</span>
<span class="sd">        &gt;&gt;&gt; print(ce_rhs)</span>
<span class="sd">                                      cg</span>
<span class="sd">        b      u[&#39;b&#39;]  -  5  +  2.0 * t</span>
<span class="sd">        c   -  5  +  u[&#39;c&#39;]  +  2.0 * t</span>
<span class="sd">        d   -  5  +  u[&#39;d&#39;]  +  2.0 * t</span>
<span class="sd">        a   -  5  +  2.0 * t  +  u[&#39;a&#39;]</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">cd</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">:</span>
            <span class="n">cd</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">rhs</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">cd</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">_linCoef</span><span class="p">[</span><span class="s1">&#39;CONST&#39;</span><span class="p">][</span><span class="s1">&#39;val&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cd_df</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">dict_to_frame</span><span class="p">(</span><span class="n">cd</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">cd_df</span></div>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Overloaded method to access individual constraints</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        key : string or int</span>
<span class="sd">            Key of the constraint</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Constraint` object</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">tuple_pack</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_set_con_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">_set_info</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Constraint Group (</span><span class="si">{}</span><span class="s1">) [</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">):</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  [</span><span class="si">{}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">]</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sasoptpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">tuple_unpack</span><span class="p">(</span><span class="n">k</span><span class="p">),</span>
                                       <span class="n">v</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;]&#39;</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;sasoptpy.ConstraintGroup([&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">, &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_condict</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;], &#39;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;name=</span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<span id="version_switch">
<select onchange="chooseVersion(this);" style="background-color: transparent; color: black; min-width: 33%; margin: 0px 0px 10px 10px;">
<option value="latest">Latest</option>
<option value="1.0.3">1.0.3</option>
<option value="1.0.0">1.0.0</option>
<option value="0.2.1">0.2.1</option>
<option value="0.2.0">0.2.0</option>
<option value="0.1.2">0.1.2</option>
<option value="0.1.1">0.1.1</option>
<option value="0.1.0">0.1.0</option>
</select>
</span>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">Whats New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input-data.html">Handling Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models.html">Sessions and Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components.html">Model components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sasoptpy.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">sasoptpy 0.1.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017-2018, SAS Institute.
      Last updated on Feb 26, 2018 (Timestamp: 0.1.1-20180226160330).
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.4.
    </div>
  </body>
</html>